(function(S,H){typeof exports=="object"&&typeof module<"u"?H(exports):typeof define=="function"&&define.amd?define(["exports"],H):(S=typeof globalThis<"u"?globalThis:S||self,H(S.MyLib={}))})(this,function(S){"use strict";var H,d,e_,F,t_,n_,R,O,q,Z,T={},o_=[],F_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,z=Array.isArray;function P(e,_){for(var t in _)e[t]=_[t];return e}function r_(e){var _=e.parentNode;_&&_.removeChild(e)}function i_(e,_,t){var n,r,i,c={};for(i in _)i=="key"?n=_[i]:i=="ref"?r=_[i]:c[i]=_[i];if(arguments.length>2&&(c.children=arguments.length>3?H.call(arguments,2):t),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)c[i]===void 0&&(c[i]=e.defaultProps[i]);return M(e,c,n,r,null)}function M(e,_,t,n,r){var i={type:e,props:_,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++e_,__i:-1,__u:0};return r==null&&d.vnode!=null&&d.vnode(i),i}function E(e){return e.children}function N(e,_){this.props=e,this.context=_}function x(e,_){if(_==null)return e.__?x(e.__,e.__i+1):null;for(var t;_<e.__k.length;_++)if((t=e.__k[_])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?x(e):null}function c_(e){var _,t;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,_=0;_<e.__k.length;_++)if((t=e.__k[_])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return c_(e)}}function l_(e){(!e.__d&&(e.__d=!0)&&F.push(e)&&!D.__r++||t_!==d.debounceRendering)&&((t_=d.debounceRendering)||n_)(D)}function D(){var e,_,t,n,r,i,c,u;for(F.sort(R);e=F.shift();)e.__d&&(_=F.length,n=void 0,i=(r=(t=e).__v).__e,c=[],u=[],t.__P&&((n=P({},r)).__v=r.__v+1,d.vnode&&d.vnode(n),G(t.__P,n,r,t.__n,t.__P.ownerSVGElement!==void 0,32&r.__u?[i]:null,c,i??x(r),!!(32&r.__u),u),n.__v=r.__v,n.__.__k[n.__i]=n,p_(c,n,u),n.__e!=i&&c_(n)),F.length>_&&F.sort(R));D.__r=0}function u_(e,_,t,n,r,i,c,u,f,l,a){var o,p,s,y,$,g=n&&n.__k||o_,h=_.length;for(t.__d=f,x_(t,_,g),f=t.__d,o=0;o<h;o++)(s=t.__k[o])!=null&&typeof s!="boolean"&&typeof s!="function"&&(p=s.__i===-1?T:g[s.__i]||T,s.__i=o,G(e,s,p,r,i,c,u,f,l,a),y=s.__e,s.ref&&p.ref!=s.ref&&(p.ref&&Y(p.ref,null,s),a.push(s.ref,s.__c||y,s)),$==null&&y!=null&&($=y),65536&s.__u||p.__k===s.__k?(f&&!f.isConnected&&(f=x(p)),f=f_(s,f,e)):typeof s.type=="function"&&s.__d!==void 0?f=s.__d:y&&(f=y.nextSibling),s.__d=void 0,s.__u&=-196609);t.__d=f,t.__e=$}function x_(e,_,t){var n,r,i,c,u,f=_.length,l=t.length,a=l,o=0;for(e.__k=[],n=0;n<f;n++)c=n+o,(r=e.__k[n]=(r=_[n])==null||typeof r=="boolean"||typeof r=="function"?null:typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?M(null,r,null,null,null):z(r)?M(E,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?M(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)!=null?(r.__=e,r.__b=e.__b+1,u=T_(r,t,c,a),r.__i=u,i=null,u!==-1&&(a--,(i=t[u])&&(i.__u|=131072)),i==null||i.__v===null?(u==-1&&o--,typeof r.type!="function"&&(r.__u|=65536)):u!==c&&(u===c+1?o++:u>c?a>f-c?o+=u-c:o--:u<c?u==c-1&&(o=u-c):o=0,u!==n+o&&(r.__u|=65536))):(i=t[c])&&i.key==null&&i.__e&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=x(i)),J(i,i,!1),t[c]=null,a--);if(a)for(n=0;n<l;n++)(i=t[n])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=x(i)),J(i,i))}function f_(e,_,t){var n,r;if(typeof e.type=="function"){for(n=e.__k,r=0;n&&r<n.length;r++)n[r]&&(n[r].__=e,_=f_(n[r],_,t));return _}e.__e!=_&&(t.insertBefore(e.__e,_||null),_=e.__e);do _=_&&_.nextSibling;while(_!=null&&_.nodeType===8);return _}function T_(e,_,t,n){var r=e.key,i=e.type,c=t-1,u=t+1,f=_[t];if(f===null||f&&r==f.key&&i===f.type&&!(131072&f.__u))return t;if(n>(f!=null&&!(131072&f.__u)?1:0))for(;c>=0||u<_.length;){if(c>=0){if((f=_[c])&&!(131072&f.__u)&&r==f.key&&i===f.type)return c;c--}if(u<_.length){if((f=_[u])&&!(131072&f.__u)&&r==f.key&&i===f.type)return u;u++}}return-1}function s_(e,_,t){_[0]==="-"?e.setProperty(_,t??""):e[_]=t==null?"":typeof t!="number"||F_.test(_)?t:t+"px"}function U(e,_,t,n,r){var i;_:if(_==="style")if(typeof t=="string")e.style.cssText=t;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(_ in n)t&&_ in t||s_(e.style,_,"");if(t)for(_ in t)n&&t[_]===n[_]||s_(e.style,_,t[_])}else if(_[0]==="o"&&_[1]==="n")i=_!==(_=_.replace(/(PointerCapture)$|Capture$/i,"$1")),_=_.toLowerCase()in e||_==="onFocusOut"||_==="onFocusIn"?_.toLowerCase().slice(2):_.slice(2),e.l||(e.l={}),e.l[_+i]=t,t?n?t.u=n.u:(t.u=O,e.addEventListener(_,i?Z:q,i)):e.removeEventListener(_,i?Z:q,i);else{if(r)_=_.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(_!="width"&&_!="height"&&_!="href"&&_!="list"&&_!="form"&&_!="tabIndex"&&_!="download"&&_!="rowSpan"&&_!="colSpan"&&_!="role"&&_ in e)try{e[_]=t??"";break _}catch{}typeof t=="function"||(t==null||t===!1&&_[4]!=="-"?e.removeAttribute(_):e.setAttribute(_,t))}}function a_(e){return function(_){if(this.l){var t=this.l[_.type+e];if(_.t==null)_.t=O++;else if(_.t<t.u)return;return t(d.event?d.event(_):_)}}}function G(e,_,t,n,r,i,c,u,f,l){var a,o,p,s,y,$,g,h,k,C,j,A,C_,B,__,w=_.type;if(_.constructor!==void 0)return null;128&t.__u&&(f=!!(32&t.__u),i=[u=_.__e=t.__e]),(a=d.__b)&&a(_);_:if(typeof w=="function")try{if(h=_.props,k=(a=w.contextType)&&n[a.__c],C=a?k?k.props.value:a.__:n,t.__c?g=(o=_.__c=t.__c).__=o.__E:("prototype"in w&&w.prototype.render?_.__c=o=new w(h,C):(_.__c=o=new N(h,C),o.constructor=w,o.render=M_),k&&k.sub(o),o.props=h,o.state||(o.state={}),o.context=C,o.__n=n,p=o.__d=!0,o.__h=[],o._sb=[]),o.__s==null&&(o.__s=o.state),w.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=P({},o.__s)),P(o.__s,w.getDerivedStateFromProps(h,o.__s))),s=o.props,y=o.state,o.__v=_,p)w.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(w.getDerivedStateFromProps==null&&h!==s&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(h,C),!o.__e&&(o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(h,o.__s,C)===!1||_.__v===t.__v)){for(_.__v!==t.__v&&(o.props=h,o.state=o.__s,o.__d=!1),_.__e=t.__e,_.__k=t.__k,_.__k.forEach(function(I){I&&(I.__=_)}),j=0;j<o._sb.length;j++)o.__h.push(o._sb[j]);o._sb=[],o.__h.length&&c.push(o);break _}o.componentWillUpdate!=null&&o.componentWillUpdate(h,o.__s,C),o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(s,y,$)})}if(o.context=C,o.props=h,o.__P=e,o.__e=!1,A=d.__r,C_=0,"prototype"in w&&w.prototype.render){for(o.state=o.__s,o.__d=!1,A&&A(_),a=o.render(o.props,o.state,o.context),B=0;B<o._sb.length;B++)o.__h.push(o._sb[B]);o._sb=[]}else do o.__d=!1,A&&A(_),a=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++C_<25);o.state=o.__s,o.getChildContext!=null&&(n=P(P({},n),o.getChildContext())),p||o.getSnapshotBeforeUpdate==null||($=o.getSnapshotBeforeUpdate(s,y)),u_(e,z(__=a!=null&&a.type===E&&a.key==null?a.props.children:a)?__:[__],_,t,n,r,i,c,u,f,l),o.base=_.__e,_.__u&=-161,o.__h.length&&c.push(o),g&&(o.__E=o.__=null)}catch(I){_.__v=null,f||i!=null?(_.__e=u,_.__u|=f?160:32,i[i.indexOf(u)]=null):(_.__e=t.__e,_.__k=t.__k),d.__e(I,_,t)}else i==null&&_.__v===t.__v?(_.__k=t.__k,_.__e=t.__e):_.__e=A_(t.__e,_,t,n,r,i,c,f,l);(a=d.diffed)&&a(_)}function p_(e,_,t){_.__d=void 0;for(var n=0;n<t.length;n++)Y(t[n],t[++n],t[++n]);d.__c&&d.__c(_,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(i){i.call(r)})}catch(i){d.__e(i,r.__v)}})}function A_(e,_,t,n,r,i,c,u,f){var l,a,o,p,s,y,$,g=t.props,h=_.props,k=_.type;if(k==="svg"&&(r=!0),i!=null){for(l=0;l<i.length;l++)if((s=i[l])&&"setAttribute"in s==!!k&&(k?s.localName===k:s.nodeType===3)){e=s,i[l]=null;break}}if(e==null){if(k===null)return document.createTextNode(h);e=r?document.createElementNS("http://www.w3.org/2000/svg",k):document.createElement(k,h.is&&h),i=null,u=!1}if(k===null)g===h||u&&e.data===h||(e.data=h);else{if(i=i&&H.call(e.childNodes),g=t.props||T,!u&&i!=null)for(g={},l=0;l<e.attributes.length;l++)g[(s=e.attributes[l]).name]=s.value;for(l in g)if(s=g[l],l!="children"){if(l=="dangerouslySetInnerHTML")o=s;else if(l!=="key"&&!(l in h)){if(l=="value"&&"defaultValue"in h||l=="checked"&&"defaultChecked"in h)continue;U(e,l,null,s,r)}}for(l in h)s=h[l],l=="children"?p=s:l=="dangerouslySetInnerHTML"?a=s:l=="value"?y=s:l=="checked"?$=s:l==="key"||u&&typeof s!="function"||g[l]===s||U(e,l,s,g[l],r);if(a)u||o&&(a.__html===o.__html||a.__html===e.innerHTML)||(e.innerHTML=a.__html),_.__k=[];else if(o&&(e.innerHTML=""),u_(e,z(p)?p:[p],_,t,n,r&&k!=="foreignObject",i,c,i?i[0]:t.__k&&x(t,0),u,f),i!=null)for(l=i.length;l--;)i[l]!=null&&r_(i[l]);u||(l="value",y!==void 0&&(y!==e[l]||k==="progress"&&!y||k==="option"&&y!==g[l])&&U(e,l,y,g[l],!1),l="checked",$!==void 0&&$!==e[l]&&U(e,l,$,g[l],!1))}return e}function Y(e,_,t){try{typeof e=="function"?e(_):e.current=_}catch(n){d.__e(n,t)}}function J(e,_,t){var n,r;if(d.unmount&&d.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||Y(n,null,_)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){d.__e(i,_)}n.base=n.__P=null}if(n=e.__k)for(r=0;r<n.length;r++)n[r]&&J(n[r],_,t||typeof e.type!="function");t||e.__e==null||r_(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function M_(e,_,t){return this.constructor(e,t)}function E_(e,_,t){var n,r,i,c;d.__&&d.__(e,_),r=(n=typeof t=="function")?null:_.__k,i=[],c=[],G(_,e=(!n&&t||_).__k=i_(E,null,[e]),r||T,T,_.ownerSVGElement!==void 0,!n&&t?[t]:r?null:_.firstChild?H.call(_.childNodes):null,i,!n&&t?t:r?r.__e:_.firstChild,n,c),p_(i,e,c)}H=o_.slice,d={__e:function(e,_,t,n){for(var r,i,c;_=_.__;)if((r=_.__c)&&!r.__)try{if((i=r.constructor)&&i.getDerivedStateFromError!=null&&(r.setState(i.getDerivedStateFromError(e)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,n||{}),c=r.__d),c)return r.__E=r}catch(u){e=u}throw e}},e_=0,N.prototype.setState=function(e,_){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=P({},this.state),typeof e=="function"&&(e=e(P({},t),this.props)),e&&P(t,e),e!=null&&this.__v&&(_&&this._sb.push(_),l_(this))},N.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),l_(this))},N.prototype.render=E,F=[],n_=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,R=function(e,_){return e.__v.__b-_.__v.__b},D.__r=0,O=0,q=a_(!1),Z=a_(!0);const N_="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='27.68'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20296'%3e%3cpath%20fill='%23673AB8'%20d='m128%200l128%2073.9v147.8l-128%2073.9L0%20221.7V73.9z'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M34.865%20220.478c17.016%2021.78%2071.095%205.185%20122.15-34.704c51.055-39.888%2080.24-88.345%2063.224-110.126c-17.017-21.78-71.095-5.184-122.15%2034.704c-51.055%2039.89-80.24%2088.346-63.224%20110.126Zm7.27-5.68c-5.644-7.222-3.178-21.402%207.573-39.253c11.322-18.797%2030.541-39.548%2054.06-57.923c23.52-18.375%2048.303-32.004%2069.281-38.442c19.922-6.113%2034.277-5.075%2039.92%202.148c5.644%207.223%203.178%2021.403-7.573%2039.254c-11.322%2018.797-30.541%2039.547-54.06%2057.923c-23.52%2018.375-48.304%2032.004-69.281%2038.441c-19.922%206.114-34.277%205.076-39.92-2.147Z'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M220.239%20220.478c17.017-21.78-12.169-70.237-63.224-110.126C105.96%2070.464%2051.88%2053.868%2034.865%2075.648c-17.017%2021.78%2012.169%2070.238%2063.224%20110.126c51.055%2039.889%20105.133%2056.485%20122.15%2034.704Zm-7.27-5.68c-5.643%207.224-19.998%208.262-39.92%202.148c-20.978-6.437-45.761-20.066-69.28-38.441c-23.52-18.376-42.74-39.126-54.06-57.923c-10.752-17.851-13.218-32.03-7.575-39.254c5.644-7.223%2019.999-8.261%2039.92-2.148c20.978%206.438%2045.762%2020.067%2069.281%2038.442c23.52%2018.375%2042.739%2039.126%2054.06%2057.923c10.752%2017.85%2013.218%2032.03%207.574%2039.254Z'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M127.552%20167.667c10.827%200%2019.603-8.777%2019.603-19.604c0-10.826-8.776-19.603-19.603-19.603c-10.827%200-19.604%208.777-19.604%2019.603c0%2010.827%208.777%2019.604%2019.604%2019.604Z'%3e%3c/path%3e%3c/svg%3e";var L,v,K,d_,Q=0,h_=[],V=[],m=d,v_=m.__b,m_=m.__r,y_=m.diffed,g_=m.__c,k_=m.unmount,b_=m.__;function w_(e,_){m.__h&&m.__h(v,e,Q||_),Q=0;var t=v.__H||(v.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({__V:V}),t.__[e]}function $_(e){return Q=1,D_(P_,e)}function D_(e,_,t){var n=w_(L++,2);if(n.t=e,!n.__c&&(n.__=[P_(void 0,_),function(u){var f=n.__N?n.__N[0]:n.__[0],l=n.t(f,u);f!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=v,!v.u)){var r=function(u,f,l){if(!n.__c.__H)return!0;var a=n.__c.__H.__.filter(function(p){return!!p.__c});if(a.every(function(p){return!p.__N}))return!i||i.call(this,u,f,l);var o=!1;return a.forEach(function(p){if(p.__N){var s=p.__[0];p.__=p.__N,p.__N=void 0,s!==p.__[0]&&(o=!0)}}),!(!o&&n.__c.props===u)&&(!i||i.call(this,u,f,l))};v.u=!0;var i=v.shouldComponentUpdate,c=v.componentWillUpdate;v.componentWillUpdate=function(u,f,l){if(this.__e){var a=i;i=void 0,r(u,f,l),i=a}c&&c.call(this,u,f,l)},v.shouldComponentUpdate=r}return n.__N||n.__}function S_(e,_){var t=w_(L++,3);!m.__s&&V_(t.__H,_)&&(t.__=e,t.i=_,v.__H.__h.push(t))}function U_(){for(var e;e=h_.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(W),e.__H.__h.forEach(X),e.__H.__h=[]}catch(_){e.__H.__h=[],m.__e(_,e.__v)}}m.__b=function(e){v=null,v_&&v_(e)},m.__=function(e,_){e&&_.__k&&_.__k.__m&&(e.__m=_.__k.__m),b_&&b_(e,_)},m.__r=function(e){m_&&m_(e),L=0;var _=(v=e.__c).__H;_&&(K===v?(_.__h=[],v.__h=[],_.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=V,t.__N=t.i=void 0})):(_.__h.forEach(W),_.__h.forEach(X),_.__h=[],L=0)),K=v},m.diffed=function(e){y_&&y_(e);var _=e.__c;_&&_.__H&&(_.__H.__h.length&&(h_.push(_)!==1&&d_===m.requestAnimationFrame||((d_=m.requestAnimationFrame)||L_)(U_)),_.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==V&&(t.__=t.__V),t.i=void 0,t.__V=V})),K=v=null},m.__c=function(e,_){_.some(function(t){try{t.__h.forEach(W),t.__h=t.__h.filter(function(n){return!n.__||X(n)})}catch(n){_.some(function(r){r.__h&&(r.__h=[])}),_=[],m.__e(n,t.__v)}}),g_&&g_(e,_)},m.unmount=function(e){k_&&k_(e);var _,t=e.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{W(n)}catch(r){_=r}}),t.__H=void 0,_&&m.__e(_,t.__v))};var H_=typeof requestAnimationFrame=="function";function L_(e){var _,t=function(){clearTimeout(n),H_&&cancelAnimationFrame(_),setTimeout(e)},n=setTimeout(t,100);H_&&(_=requestAnimationFrame(t))}function W(e){var _=v,t=e.__c;typeof t=="function"&&(e.__c=void 0,t()),v=_}function X(e){var _=v;e.__c=e.__(),v=_}function V_(e,_){return!e||e.length!==_.length||_.some(function(t,n){return t!==e[n]})}function P_(e,_){return typeof _=="function"?_(e):_}var W_=0;function b(e,_,t,n,r,i){_||(_={});var c,u,f=_;if("ref"in f)for(u in f={},_)u=="ref"?c=_[u]:f[u]=_[u];var l={type:e,props:f,key:t,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--W_,__i:-1,__u:0,__source:r,__self:i};if(typeof e=="function"&&(c=e.defaultProps))for(u in c)f[u]===void 0&&(f[u]=c[u]);return d.vnode&&d.vnode(l),l}function j_(e){console.log("App component props",e),e.initcount===void 0&&(e.initcount="0");const[_,t]=$_(parseInt(e.initcount)||0),[n,r]=$_([]);async function i(){console.log("Fetching data...");const c=await fetch(`/api/MyApi?count=${_}`);if(!c.ok)throw new Error(c.status.toString());console.log("Data fetched!"),r(await c.json())}return S_(()=>(console.log("App component mounted"),()=>{console.log("App component unmounted")}),[]),S_(()=>{console.log("count updated",_),i()},[_]),b("div",{class:e.class,style:{border:"2px red solid"},children:[b("p",{style:{color:"red"},children:"This is the App web component"}),b("a",{href:"https://preactjs.com",target:"_blank",children:b("img",{src:N_,alt:"Preact logo",height:"160",width:"160"})}),b("h1",{children:"Get Started building Vite-powered Preact Apps "}),b("ul",{className:"custom-color",children:[n.length===0&&b("li",{children:"Loading..."}),n.map(c=>b("li",{children:[c.summary," - ",c.temperatureF,"F - ",new Date(c.date).toISOString()]}))]}),b("div",{class:"p-4",children:[b("button",{class:"rounded bg-slate-500 p-3",onClick:()=>t(_+1),children:"Click Me"}),b("p",{children:["Button clicked ",_," times."]})]})]})}function B_(){return b("div",{children:[b("h1",{children:"My Test"}),b("p",{children:"This is a test of the PreactDotNetMvcTesting project."})]})}function I_(e,_,t){E_(i_(e,t),_)}S.App=j_,S.MyTest=B_,S.myRender=I_,Object.defineProperty(S,Symbol.toStringTag,{value:"Module"})});
